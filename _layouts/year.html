---
layout: default
---

<div class="home">
  <h1 class="page-heading">Posts from {{ page.year }}</h1>

  {%- if site.posts.size > 0 -%}
    {%- assign year_posts = "" | split: "" -%}
    {%- for post in site.posts -%}
      {%- assign post_year = post.date | date: "%Y" -%}
      {%- if post_year == page.year -%}
        {%- assign year_posts = year_posts | push: post -%}
      {%- endif -%}
    {%- endfor -%}
    
    {%- if year_posts.size > 0 -%}
      <p class="post-count">{{ year_posts.size }} posts in {{ page.year }}</p>
      
      <ul class="post-list">
        {%- assign posts_by_month = year_posts | group_by_exp: 'post', 'post.date | date: "%B"' -%}
        {%- for month in posts_by_month -%}
          <li class="month-section">
            <h2 class="month-heading">{{ month.name }} {{ page.year }}</h2>
            <ul class="month-posts">
              {%- for post in month.items -%}
                <li class="post-item">
                  <span class="post-meta">{{ post.date | date: "%-d" }}</span>
                  <h3>
                    <a class="post-link" href="{{ post.url | relative_url }}">
                      {{ post.title | escape }}
                    </a>
                  </h3>
                  {%- if site.show_excerpts -%}
                    {{ post.excerpt }}
                  {%- endif -%}
                </li>
              {%- endfor -%}
            </ul>
          </li>
        {%- endfor -%}
      </ul>
    {%- else -%}
      <p>No posts found for {{ page.year }}.</p>
    {%- endif -%}
  {%- endif -%}

  <p class="rss-subscribe">subscribe <a href="{{ "/feed.xml" | relative_url }}">via RSS</a></p>

</div>

<style>
.month-section {
  margin-bottom: 2em;
  list-style: none;
}

.month-heading {
  font-size: 1.5em;
  margin-bottom: 1em;
  color: #666;
  border-bottom: 1px solid #eee;
  padding-bottom: 0.5em;
}

.month-posts {
  margin-left: 0;
  padding-left: 0;
}

.post-item {
  margin-bottom: 1em;
  list-style: none;
  display: flex;
  align-items: baseline;
}

.post-item .post-meta {
  min-width: 3em;
  margin-right: 1em;
  color: #666;
  font-weight: bold;
}

.post-item h3 {
  margin: 0;
  flex: 1;
}

.post-count {
  color: #666;
  font-style: italic;
  margin-bottom: 2em;
}
</style>